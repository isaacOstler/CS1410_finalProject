<GUI_UserRow@BoxLayout>
    orientation: 'horizontal'
    size_hint: 1, None
    height: 100

    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos

    Label:
        text: root.username
        size_hint: 0.45, None
    Label:
        text: root.real_name
        size_hint: .3,1
    Label:
        text: root.rank
        size_hint: 0.2, None
    Label:
        text: root.role
        size_hint: 0.2, None
    Button:
        text: 'Edit'
        size_hint: 0.2, None
        on_press: root.edit_user()
    Button:
        text: 'Delete'
        id: delete_button
        background_color: 1, 0, 0, 1
        size_hint: 0.2, None
        on_press: root.delete_user()

<UsersScreen>:
    name: 'users_screen'
    id: users_screen
    BoxLayout:
        orientation: 'vertical'
        size_hint: 1,1

        NavBar:
            id: navbar
            size_hint: 1, .1
            pos_hint: {'center_y': 0.5,'center_x': 0.5}

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None

            canvas.before:
                Color:
                    rgba: 0.05, 0.05, 0.05, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'Username'
                size_hint: 0.45, None
            Label:
                text: 'Real Name'
                size_hint: .3,1
            Label:
                text: 'Rank'
                size_hint: 0.2, None
            Label:
                text: 'Role'
                size_hint: 0.2, None
            Label:
                text: 'Options'
                size_hint: 0.4, None

        ScrollView:
            size_hint: 1, .8
            pos_hint: {'center_y': 0.5,'center_x': 0.5}
            
            StackLayout:
                orientation: 'lr-tb'  # Left to right, top to bottom
                padding: 10, 10
                spacing: 10
                size_hint: 1,1

                StackLayout:
                    id: user_list
                    orientation: 'lr-tb'  # Left to right, top to bottom
                    padding: 10, 10
                    spacing: 10
                    size_hint_y: None
                    size_hint_x: 1
                    height: self.minimum_height

                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: 100

                    BoxLayout:
                        orientation: 'vertical'
                        size_hint: 0.4,1

                    Button:
                        text: 'Add User'
                        size_hint: .2, None
                        height: 50
                        on_press: root.add_user()

                    BoxLayout:
                        orientation: 'vertical'
                        size_hint: 0.4,1